<manifest xmlns:android="http://schemas.android.com/apk/res/android">
  <!-- For Android 13+: Use NEARBY_WIFI_DEVICES for WiFi operations without deriving location -->
  <uses-permission android:name="android.permission.NEARBY_WIFI_DEVICES"
    android:usesPermissionFlags="neverForLocation" />

  <!-- For Android 10-12: Location permissions are required for WiFi APIs -->
  <!-- For Android < 10: Required for WiFi scanning operations -->
  <!-- Note: Both COARSE and FINE are required together on Android 12+ -->
  <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"
    android:maxSdkVersion="32" />
  <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"
    android:maxSdkVersion="32" />

  <!-- Required for WiFi operations -->
  <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
  <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
  <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
  <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
</manifest>