<manifest xmlns:android="http://schemas.android.com/apk/res/android">
  <!-- For Android 13+: Use NEARBY_WIFI_DEVICES for WiFi connection operations without deriving location -->
  <uses-permission android:name="android.permission.NEARBY_WIFI_DEVICES"
    android:usesPermissionFlags="neverForLocation" />

  <!-- Location permissions are required for:
       - WiFi scanning operations (startScan, getScanResults) on ALL Android versions including 13+
       - WiFi connection operations on Android < 13
       Note: Both COARSE and FINE are required together on Android 12+ -->
  <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
  <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />

  <!-- Required for WiFi operations -->
  <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
  <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
  <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
  <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
</manifest>